FROM python:3.9-slim

WORKDIR /app

ARG BASE_DIR

ARG BRONZE_PATH 
ARG SILVER_PATH
ARG GOLD_PATH 

ARG BRONZE_CONFIG
ARG SILVER_CONFIG
ARG GOLD_CONFIG 

ENV  BASE_DIR ${BASE_DIR}

ENV  BRONZE_PATH ${BRONZE_PATH}
ENV  SILVER_PATH ${SILVER_PATH}
ENV  GOLD_PATH ${GOLD_PATH}

ENV  BRONZE_CONFIG ${BRONZE_CONFIG}
ENV  SILVER_CONFIG ${SILVER_CONFIG}
ENV  GOLD_CONFIG ${GOLD_CONFIG}

ADD requirements.txt .

COPY docker/. .
COPY src/.  .
COPY . .

RUN pip install -r requirements.txt

CMD ["python", "app.py" ]
